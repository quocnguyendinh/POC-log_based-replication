default_environment: dev

plugins:
  extractors:
    - name: tap-postgres
      variant: meltanolabs
      pip_url: git+https://github.com/MeltanoLabs/tap-postgres.git
  
  loaders:
    - name: target-clickhouse
      variant: shaped-ai
      pip_url: git+https://github.com/shaped-ai/target-clickhouse.git

environment:
  - name: dev
    config:
      plugins:
        extractors:
          - name: tap-postgres
            config:
              - host: localhost
                port: 5433
                user: meltano
                password: meltano
                database: meltano
        targets:
          - name: target-clickhouse
            config:
              - host: localhost
                port: 8123
                username: meltano
                password: meltano
                database: meltano
                load_method: TargetLoadMethods.UPSERT
